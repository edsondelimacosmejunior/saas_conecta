const $type = {
  Display: {
    1: {
      $type: 'typography',
      $description: 'Display - 64',
      $value: {
        fontFamily: 'DM Sans',
        fontSize: '64px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '80px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
  },
  Title: {
    1: {
      $type: 'typography',
      $description: 'Title 1 - 48',
      $value: {
        fontFamily: 'DM Sans',
        fontSize: '48px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '60px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    2: {
      $type: 'typography',
      $description: 'Title 2 - 32',
      $value: {
        fontFamily: 'DM Sans',
        fontSize: '32px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '44px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    3: {
      $type: 'typography',
      $description: 'Title 3 - 24',
      $value: {
        fontFamily: 'DM Sans',
        fontSize: '24px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '32px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    4: {
      $type: 'typography',
      $description: 'Title 4 - 18',
      $value: {
        fontFamily: 'DM Sans',
        fontSize: '18px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '26px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    5: {
      $type: 'typography',
      $description: 'Title 5 - 16',
      $value: {
        fontFamily: 'DM Sans',
        fontSize: '16px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '24px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
  },
  Headline: {
    1: {
      $type: 'typography',
      $description: 'Headline 1 - 18',
      $value: {
        fontFamily: 'Inter',
        fontSize: '18px',
        fontWeight: 500,
        letterSpacing: '-2%',
        lineHeight: '26px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    2: {
      $type: 'typography',
      $description: 'Headline 2 - 16',
      $value: {
        fontFamily: 'Inter',
        fontSize: '16px',
        fontWeight: 500,
        letterSpacing: '-2%',
        lineHeight: '24px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    3: {
      $type: 'typography',
      $description: 'Headline 3 - 14',
      $value: {
        fontFamily: 'Inter',
        fontSize: '14px',
        fontWeight: 500,
        letterSpacing: '-2%',
        lineHeight: '22px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    4: {
      $type: 'typography',
      $description: 'Headline 4 - 12',
      $value: {
        fontFamily: 'Inter',
        fontSize: '12px',
        fontWeight: 500,
        letterSpacing: '-2%',
        lineHeight: '19px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    5: {
      $type: 'typography',
      $description: 'Headline 5 - 10',
      $value: {
        fontFamily: 'Inter',
        fontSize: '10px',
        fontWeight: 500,
        letterSpacing: '-2%',
        lineHeight: '18px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
  },
  Paragraph: {
    1: {
      $type: 'typography',
      $description: 'Paragraph 1 - 16',
      $value: {
        fontFamily: 'Inter',
        fontSize: '16px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '27px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    2: {
      $type: 'typography',
      $description: 'Paragraph 2 - 14',
      $value: {
        fontFamily: 'Inter',
        fontSize: '14px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '22px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    3: {
      $type: 'typography',
      $description: 'Paragraph 3 - 12',
      $value: {
        fontFamily: 'Inter',
        fontSize: '12px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '20px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
    4: {
      $type: 'typography',
      $description: 'Paragraph 4 - 10',
      $value: {
        fontFamily: 'Inter',
        fontSize: '10px',
        fontWeight: 400,
        letterSpacing: '-2%',
        lineHeight: '18px',
        textTransform: 'none',
        textDecoration: 'none',
      },
    },
  },
  Caps: {
    1: {
      $type: 'typography',
      $description: 'Caps 1 - 14 Semibold',
      $value: {
        fontFamily: 'Inter',
        fontSize: '14px',
        fontWeight: 600,
        letterSpacing: '4%',
        lineHeight: '20px',
        textTransform: 'uppercase',
        textDecoration: 'none',
      },
    },
    2: {
      $type: 'typography',
      $description: 'Caps 2 - 12 Semibold',
      $value: {
        fontFamily: 'Inter',
        fontSize: '12px',
        fontWeight: 600,
        letterSpacing: '4%',
        lineHeight: '16px',
        textTransform: 'uppercase',
        textDecoration: 'none',
      },
    },
    3: {
      $type: 'typography',
      $description: 'Caps 3 - 10 Semibold',
      $value: {
        fontFamily: 'Inter',
        fontSize: '10px',
        fontWeight: 600,
        letterSpacing: '4%',
        lineHeight: '16px',
        textTransform: 'uppercase',
        textDecoration: 'none',
      },
    },
    '1 Reg *': {
      $type: 'typography',
      $description: 'Caps  1 - 14 Regular',
      $value: {
        fontFamily: 'Inter',
        fontSize: '14px',
        fontWeight: 400,
        letterSpacing: '4%',
        lineHeight: '22px',
        textTransform: 'uppercase',
        textDecoration: 'none',
      },
    },
    '2 Reg *': {
      $type: 'typography',
      $description: 'Caps 2 - 12 Regular',
      $value: {
        fontFamily: 'Inter',
        fontSize: '12px',
        fontWeight: 400,
        letterSpacing: '4%',
        lineHeight: '16px',
        textTransform: 'uppercase',
        textDecoration: 'none',
      },
    },
    '3 Reg *': {
      $type: 'typography',
      $description: 'Caps 3 - 10 Regular',
      $value: {
        fontFamily: 'Inter',
        fontSize: '10px',
        fontWeight: 400,
        letterSpacing: '4%',
        lineHeight: '16px',
        textTransform: 'uppercase',
        textDecoration: 'none',
      },
    },
  },
}




function toRem($value, isPercentage = false) {
  const baseFontSize = 16
  let value
  if (isPercentage) {
    value = (String($value).replace('%', '') / 100) * baseFontSize
  } else {
    value = String($value).replace('px', '')
  }
  return Number(value / baseFontSize) + 'rem'
}

function toPercent(px, base) {
  const baseValue = String(base).replace('px', '')
  return ((String(px).replace('px', '') / baseValue) * 100).toFixed() + '%'
}

function calculateLetterSpacing(fontSize, porcent) {
  // Extrair os valores numéricos de fontSize e porcent
  const fontSizeValue = parseFloat(fontSize); // Converte "14px" para 14
  const porcentValue = parseFloat(porcent); // Converte "-2%" para -2

  // Verifica se os valores extraídos são números válidos
  if (isNaN(fontSizeValue) || isNaN(porcentValue)) {
      throw new Error("Por favor, insira valores válidos para fontSize e porcent.");
  }

  // Calcula o letter-spacing
  const letterSpacing = (porcentValue / 100) * fontSizeValue;

  // Retorna o resultado formatado
  return `${letterSpacing.toFixed(2)}px`;
}


function generateTypography(val) {
  const arr = Object.entries(val).map(([key, value]) => {
    const title = String(key).toLowerCase()

    const variacoes = Object.entries(value)
      .filter(([$key, $value]) => !$key.includes('*'))
      .map(([$key, { $value }]) => {
        return {
          [`.text-${title}-${$key}`]: {
            fontSize: toRem($value.fontSize),
            letterSpacing: calculateLetterSpacing($value.fontSize, $value.letterSpacing),
            lineHeight: toPercent($value.lineHeight, $value.fontSize),
            textTransform: $value.textTransform,
            fontWeight: $value.fontWeight,
            fontFamily: $value.fontFamily + ', sans serif',
          },
        }
      })

    return variacoes
  })

  return arr.flat().reduce((acc, item) => {
    return { ...acc, ...item }
  }, {})
}

function fontFamilyWeight($type) {
  const familyWeight = new Set()
  for (const category in $type) {
    for (const key in $type[category]) {
      const typography = $type[category][key].$value
      if (!familyWeight[typography.fontFamily]) {
        familyWeight[typography.fontFamily] = new Set()
      }
      familyWeight[typography.fontFamily].add(typography.fontWeight)
    }
  }
  for (const fontFamily in familyWeight) {
    familyWeight[fontFamily] = Array.from(familyWeight[fontFamily]).sort()
  }
  return familyWeight
}

// funcao para gerar o array do sass, que sera incluido em
// src/css/quasar/variables.sass
function camelToKebabCase(str) {
  return str.replace(/([A-Z])/g, function ($1) {
    return '-' + $1.toLowerCase()
  })
}

function jsToSassVariables(obj) {
  let resString = '$headings:('
  Object.keys(obj).forEach((key) => {
    const name = String(key).replace('.text-', '')
    const _value = obj[key]
    // const name =
    const formattedValue = `font-size: ${_value.fontSize},  line-height: ${_value.lineHeight}, letter-spacing: ${_value.letterSpacing}, font-weight: ${_value.fontWeight}`
    resString += `'${name}': (${formattedValue}),`
  })
  return resString + ')'
}

const generated = generateTypography($type)

export default generated
